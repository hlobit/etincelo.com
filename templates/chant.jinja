{% extends "base.jinja" %}

{% block title %}Etincelo | Chants | {{ title }} {% endblock %}

{% block style %}
<style>
@media (prefers-color-scheme: dark) {
 .audio-button svg {
  fill: #fff;
 }
}

section.song header {
  display: flex;
  align-items: center;
}
h2 {
 font-variant: small-caps;
}

dl.properties {
 display: inline-grid;
 margin: 1em 0;
 font-size: 0.8em;
}
dl.properties dt {
 grid-column: 1;
 text-align: end;
}
dl.properties dt::after {
 content: " :";
}
dl.properties dd {
 grid-column: 2;
 margin-left: 1em;
}

p.context:before {
  font-weight: 900;
  content: "🥁";
  padding-right: 16px;
}
p.context {
 font-size: 0.9em;
 font-style: italic
}

article h3 {
 opacity: 60%;
 font-variant: small-caps;
 font-size: 1em;
 border-bottom: solid 1px;
 padding-bottom: 0.4em;
}

article.video iframe { 
  width: 100%;
  aspect-ratio: 16 / 9;
}
article.links {
  font-size: 0.9em;
}
article.links ul {
  font-size: 0.8em;
}

.lyrics {
 white-space:pre
}
.lyrics h1 {
 display:none
}
.lyrics.mode-text .chord {
 display:none!important
}
.lyrics .empty-line {
 display:block;
 height:1em
}
.lyrics>.chord-sheet>.paragraph:not(:empty) {
 margin-bottom:1.5em
}
.lyrics>.chord-sheet>.paragraph.chorus {
 border-left:3px solid;
 padding-left:1em
}
.lyrics>.chord-sheet>.paragraph.chorus .lyrics,
.lyrics>.chord-sheet>.paragraph.prechorus .lyrics {
 font-weight:600
}
.lyrics>.chord-sheet>.paragraph.bridge .lyrics {
 font-style:italic
}
.lyrics>.chord-sheet>.paragraph>.row {
 padding-bottom:.2em;
 -ms-flex-wrap:wrap;
 flex-wrap:wrap
}
.lyrics>.chord-sheet>.paragraph>.row,
.lyrics>.chord-sheet>.paragraph>.row>.word {
 display:-webkit-box;
 display:-ms-flexbox;
 display:flex;
 -webkit-box-align:end;
 -ms-flex-align:end;
 align-items:flex-end
}
.lyrics>.chord-sheet>.paragraph>.row>.word,
.lyrics>.chord-sheet>.paragraph>.row>.word>.column {
 padding:0;
 -webkit-box-flex:0;
 -ms-flex-positive:0;
 flex-grow:0
}
.lyrics>.chord-sheet>.paragraph>.row>.word>.column .chord {
 color:#009e86;
 font-weight:700;
 padding-right:.5em
}

.audio-link {
 display: flex;
 align-items: center;
 height: 2rem;
 width: 2rem;
 margin: 1em;
}
.audio-button {
 display: block;
 overflow: visible;
 padding: 0 0 100%;
 position: relative;
 height: 0;
 width: 100%;
}
.audio-button > * {
 position: absolute;
 height: 100%;
 width: 100%;
 top: 0;
 left: 0;
}

/* TEMPORARY (GDOC export copy/paste) */
.c7{font-weight:400;text-decoration:none;vertical-align:baseline;font-style:italic}.c19{font-weight:400;text-decoration:none;vertical-align:baseline;font-style:normal}.c5{font-weight:700;text-decoration:none;vertical-align:baseline;font-style:normal}.c22{-webkit-text-decoration-skip:none;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-style:normal}.c6{font-weight:700;text-decoration:none;vertical-align:baseline;font-style:normal}.c4{font-weight:400;text-decoration:none;vertical-align:baseline;font-style:normal}.c13{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c0{font-weight:400;text-decoration:none;vertical-align:baseline;font-style:normal}.c1{font-weight:400;text-decoration:none;vertical-align:baseline;font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c24{padding-top:14pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c15{padding-top:0pt;padding-bottom:12pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c28{font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Calibri"}.c29{text-decoration:none;vertical-align:baseline;font-style:normal}.c23{font-weight:400;text-decoration:none;vertical-align:baseline;font-style:normal}.c30{text-decoration:none;vertical-align:baseline;font-style:normal}.c27{background-max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c8{background-color:#222222}.c11{font-weight:700}.c10{font-weight:700}.c26{margin-left:36pt;padding-left:0pt}.c16{font-size:8pt}.c25{padding:0;margin:0}.c31{font-size:9pt}.c12{font-size:8pt}.c21{color:#000000}.c20{color:#353744}.c3{height:11pt}.c18{font-weight:700}.c17{font-style:italic}.gdoc p {padding:0.2em 0;margin:0}
</style>
{% endblock %}

{% block content %}
  <section class="song">
    {{ content|safe }}
  </section>
{% endblock %}

{% block script %}
<script>
// Create a reference for the Wake Lock.
let wakeLock = null;

// create an async function to request a wake lock
try {
  navigator.wakeLock.request("screen")
    .then(wake);
  console.log('wake lock acquired!')
} catch (err) {
  // The Wake Lock request has failed - usually system related, such as battery.
  console.error(`${err.name}, ${err.message}`);
}
</script>
{% endblock %}
